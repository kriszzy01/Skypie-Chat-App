(this["webpackJsonpreact-testing"]=this["webpackJsonpreact-testing"]||[]).push([[0],{1088:function(e,t,a){},1089:function(e,t,a){},1090:function(e,t,a){},1091:function(e,t,a){},1092:function(e,t,a){},1093:function(e,t,a){},1094:function(e,t,a){},1095:function(e,t,a){},1096:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(15),i=a.n(s),o=(a(22),a(5)),u=a(6),l=a(9),m=a(8),f=(a(23),a(7)),p=a(1),d=a(24),v=a(33),E=a(39),_=a(2),g=(n=10,Array.from({length:n},(function(){return y()}))),h=_.mapKeys(g,"user_id"),b=function(e){var t={};return _.forEach(g,(function(a){var n;t[a.user_id]=Object(p.a)({},_.mapKeys((n=e,Array.from({length:n},(function(e,t){return{number:t,text:v.sentence(),is_user_msg:E.random.boolean()}}))),"number"))})),t};y(),b(10);function y(){return{name:E.name.findName(),email:E.internet.email(),profile_pic:E.internet.avatar(),status:v.sentence(),user_id:d.generate()}}var N=a(3);var S=Object(f.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return e},contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{contacts:h};return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_USER_ID":return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":var a=t.payload,n=a.message,r=a.activeUserId,c=e[r],s=Object.keys(c).length+1;return Object(p.a)(Object(p.a)({},e),{},Object(N.a)({},r,Object(p.a)(Object(p.a)({},c),{},Object(N.a)({},s,{number:s,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TYPING_VALUE":return t.payload;case"SET_MESSAGE":return"";default:return e}}}),U=Object(f.b)(S);a(1088);function j(e){var t=e.user_id;U.dispatch({type:"SET_ACTIVE_USER_ID",payload:t})}var O=function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status;return c.a.createElement("div",{className:"User",onClick:j.bind(null,t)},c.a.createElement("img",{src:n,alt:a,className:"User__pic"}),c.a.createElement("div",{className:"User__details"},c.a.createElement("p",{className:"User__details-name"},a),c.a.createElement("p",{className:"User__details-status"},r)))},I=(a(1089),function(e){var t=e.contacts;return c.a.createElement("aside",{className:"Sidebar"},t.map((function(e){return c.a.createElement(O,{user:e,key:e.user_id})})))}),T=(a(1090),a(1091),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,s=a.split(" ")[0];return c.a.createElement("div",{className:"Empty"},c.a.createElement("h1",{className:"Empty__name"},"Welcome, ",s," "),c.a.createElement("img",{src:n,alt:a,className:"Empty__img"}),c.a.createElement("p",{className:"Empty__status"},c.a.createElement("b",null,"Status:")," ",r),c.a.createElement("button",{className:"Empty__btn"},"Start a conversation"),c.a.createElement("p",{className:"Empty__info"},"Search for someone to start chatting with or go to Contacts to see who is available"))});a(1092);var k=function(e){var t=e.user,a=t.name,n=t.status;return c.a.createElement("header",{className:"Header"},c.a.createElement("h1",{className:"Header__name"},a),c.a.createElement("p",{className:"Header__status"},n))},w=(a(1093),function(e){var t=e.message,a=t.text,n=t.is_user_msg;return c.a.createElement("span",{className:"Chat ".concat(n?"is-user-msg":"")},a)}),A=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).chatsRef=c.a.createRef(),e.scrollToBottom=function(){e.chatsRef.current.scrollTop=e.chatsRef.current.scrollHeight},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return c.a.createElement("div",{className:"Chats",ref:this.chatsRef},this.props.messages.map((function(e){return c.a.createElement(w,{message:e,key:e.number})})))}}]),a}(r.Component),C=(a(1094),function(e){var t=e.value,a=U.getState();return c.a.createElement("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=a.typing,n=a.activeUserId;U.dispatch(function(e,t){return{type:"SET_MESSAGE",payload:{message:e,activeUserId:t}}}(t,n))}},c.a.createElement("input",{className:"Message__input",onChange:function(e){U.dispatch(function(e){return{type:"SET_TYPING_VALUE",payload:e}}(e.target.value))},value:t,placeholder:"write a message"}))}),R=(a(1095),a(2)),M=a.n(R),D=function(e){var t=e.activeUserId,a=U.getState(),n=a.contact.contacts[t],r=a.messages[t],s=a.typing;return c.a.createElement("div",{className:"ChatWindow"},c.a.createElement(k,{user:n}),c.a.createElement(A,{messages:M.a.values(r)}),c.a.createElement(C,{value:s}))},G=function(e){var t=e.user,a=e.activeUserId;return c.a.createElement("main",{className:"Main"},a?c.a.createElement(D,{user:t,activeUserId:a}):c.a.createElement(T,{user:t,activeUserId:a}))},x=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=U.getState(),t=e.contact,a=e.user,n=e.activeUserId;return c.a.createElement("div",{className:"App"},c.a.createElement(I,{contacts:M.a.values(t.contacts)}),c.a.createElement(G,{user:a,activeUserId:n}))}}]),a}(r.Component),B=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color: #FFF"),console.log(U.getState()),i.a.render(c.a.createElement(x,null),document.getElementById("root"))};B(),U.subscribe(B)},17:function(e,t,a){e.exports=a(1096)},22:function(e,t,a){},23:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.38cee121.chunk.js.map